{{!-- Activation Cost --}}
<div class="form-group input-select">
    <label>{{ localize "DND5E.ItemActivationCost" }}</label>
    <div class="form-fields">
        <div class="labeled-field">
        {{#if hasActivationType}}
            <label>{{ localize "DND5E.Number" }}</label>
            <input type="text" name="data.activation.cost" value="{{data.activation.cost}}" data-dtype="Number" placeholder="-"/>
        {{/if}}
        </div>
        <div class="labeled-field type-select">
            <label>{{ localize "DND5E.Type" }}</label>
            <select name="data.activation.type">
                {{#select data.activation.type}}
                <option value=""></option>
                {{#each config.abilityActivationTypes as |name key|}}
                <option value="{{key}}">{{name}}</option>
                {{/each}}
                {{/select}}
            </select>
        </div>
    </div>
</div>
{{#if data.activation.type}}

{{!-- Activation Condition --}}
<div class="form-group">
    <label>{{ localize "DND5E.ItemActivationCondition" }}</label>
    <div class="form-fields">
        <input type="text" name="data.activation.condition" value="{{data.activation.condition}}"/>
    </div>
</div>

{{#if isCrewed}}
<div class="form-group">
    <label>{{localize 'DND5E.Cover'}}</label>
    <div class="form-fields">
        <select name="data.cover" data-dtype="Number">
            {{#select data.cover}}
                <option value="">&mdash;</option>
                {{#each config.cover as |v k|}}
                    <option value="{{k}}">{{v}}</option>
                {{/each}}
            {{/select}}
        </select>
    </div>
</div>
{{/if}}

{{!-- Ability Target --}}
<div class="form-group input-select-select">
    <label>{{ localize "DND5E.Target" }}</label>
    <div class="form-fields target-fields">
        {{#unless isNonScalerTarget}}
        <div class="labeled-field">
            <label>
            {{#if (lookup config.areaTargetTypes data.target.type)}}
                {{ localize "DND5E.Measurement" }}
            {{else}}
                {{ localize "DND5E.Number" }}
            {{/if}}
            </label>
            <input type="text" name="data.target.value" value="{{data.target.value}}" data-dtype="Number" placeholder="-"/>
        </div>
        {{/unless}}
        {{#if (lookup config.areaTargetTypes data.target.type)}}
        <div class="labeled-field">
            <label>{{ localize "DND5E.Unit" }}</label>
            <select name="data.target.units">
                {{#select data.target.units}}
                {{#each config.movementUnits as |name key|}}
                <option value="{{key}}">{{name}}</option>
                {{/each}}
                {{/select}}
            </select>
        </div>
        {{/if}}
        <div class="labeled-field">
            <label>{{ localize "DND5E.Type" }}</label>
            <select name="data.target.type">
                {{#select data.target.type}}
                <option value=""></option>
                {{#each config.targetTypes as |name key|}}
                <option value="{{key}}">{{name}}</option>
                {{/each}}
                {{/select}}
            </select>
        </div>
    </div>
</div>

{{!-- Ability Target Width --}}
{{#if isLine}}
<div class="form-group input-select-select">
    <label>{{ localize "DND5E.TargetWidth" }}</label>
    <div class="form-fields">
        <input type="text" name="data.target.width" value="{{data.target.width}}" data-dtype="Number" placeholder="-"/>
    </div>
</div>
{{/if}}

{{!-- Ability Range --}}
<div class="form-group input-select">
    <label>{{ localize "DND5E.Range" }}</label>
    <div class="form-fields">
        <div class="flexrow">
        {{#if (lookup config.movementUnits data.range.units)}}
            <div class="labeled-field">
                <label>{{ localize "DND5E.Normal" }}</label>
                <input type="text" name="data.range.value" value="{{data.range.value}}" data-dtype="Number" placeholder="{{ localize 'DND5E.Normal' }}"/>
            </div>
            <span class="sep">/</span>
            <div class="labeled-field">
                <label>{{ localize "DND5E.Max" }}</label>
                <input type="text" name="data.range.long" value="{{data.range.long}}" data-dtype="Number" placeholder="{{ localize 'DND5E.Max' }}"/>
            </div>
        {{/if}}
        </div>
        <div class="labeled-field">
            <label>{{ localize "DND5E.Type" }}</label>
            <select name="data.range.units">
                {{#select data.range.units}}
                <option value=""></option>
                {{#each config.distanceUnits as |name key|}}
                <option value="{{key}}">{{name}}</option>
                {{/each}}
                {{/select}}
            </select>
        </div>
    </div>
</div>

{{!-- Effect Duration --}}
<div class="form-group input-select">
    <label>{{ localize "DND5E.Duration" }}</label>
    <div class="form-fields">
        <div class="labeled-field">
        {{#unless isNonScalerDuration}}
            <label>{{ localize "DND5E.Number" }}</label>
            <input type="text" name="data.duration.value" value="{{data.duration.value}}" data-dtype="Number" placeholder="-"/>
        {{/unless}}
        </div>
        <div class="labeled-field">
            <label>{{ localize "DND5E.Duration" }}</label>
            <select name="data.duration.units">
                {{#select data.duration.units}}
                <option value=""></option>
                {{#each config.timePeriods as |name key|}}
                <option value="{{key}}">{{name}}</option>
                {{/each}}
                {{/select}}
            </select>
        </div>
    </div>
</div>

{{!-- Limited Uses --}}
<div class="form-group uses-per">
    <label>{{ localize "DND5E.LimitedUses" }}</label>
    <div class="form-fields">
        <input type="text" name="data.uses.value" value="{{data.uses.value}}" data-dtype="Number"/>
        <span class="sep">{{ localize "DND5E.of" }}</span>
        <input type="text" name="data.uses.max" value="{{data.uses.max}}"/>
        <span class="sep">{{ localize "DND5E.per" }}</span>
        <select name="data.uses.per">
            {{#select data.uses.per}}
            <option value=""></option>
            {{#each config.limitedUsePeriods as |name key|}}
            <option value="{{key}}">{{name}}</option>
            {{/each}}
            {{/select}}
        </select>
    </div>
</div>

{{!-- Consumption --}}
<div class="form-group uses-per">
    <label>{{ localize "DND5E.ConsumeTitle" }}</label>
    <div class="form-fields">
        <div class="labeled-field use-amount">
        {{#if (and data.consume.target data.consume.type)}}
            <label>{{ localize "DND5E.Amount" }}</label>
            <input type="text" name="data.consume.amount" value="{{data.consume.amount}}" data-dtype="Number"/>
        {{/if}}
        </div>
        <div class="labeled-field">
        {{#if data.consume.type}}
            <label>{{ localize "DND5E.Resource" }}</label>
            <select name="data.consume.target">
                {{#select data.consume.target}}
                <option value=""></option>
                {{#each abilityConsumptionTargets as |name key|}}
                <option value="{{key}}">{{name}}</option>
                {{/each}}
                {{/select}}
            </select>
        {{/if}}
        </div>
        <div class="labeled-field">
            <label>{{ localize "DND5E.Type" }}</label>
            <select name="data.consume.type">
                {{#select data.consume.type}}
                <option value=""></option>
                {{#each config.abilityConsumptionTypes as |name key|}}
                <option value="{{key}}">{{name}}</option>
                {{/each}}
                {{/select}}
            </select>
        </div>
    </div>
</div>
{{/if}}
